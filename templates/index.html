<!doctype html>
<html data-theme="light" lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="{{ url_for_css }}">
{#    <link rel="stylesheet" href="{{ url_for('static', path='/src/styles.css') }}">#}
    <title>SchoolMap</title>
</head>
<body>
<div class="container">
    <div class="floor-buttons">
        <input type="radio" name="floor" id="thirdFloorBtn" value="3">
        <label for="thirdFloorBtn">3</label>

        <input type="radio" name="floor" id="secondFloorBtn" value="2">
        <label for="secondFloorBtn">2</label>

        <input type="radio" name="floor" id="firstFloorBtn" value="1" checked>
        <label for="firstFloorBtn">1</label>
    </div>

    <div class="search-wrapper">
        <input type="text" placeholder="Поиск объекта" id="searchInput">
    </div>

    <div class="map-container">
        <svg id="schoolMap" viewBox="0 0 800 1200" xmlns="http://www.w3.org/2000/svg">
            <g id="floor-1" class="floor-layer">
                <rect class="corridor" x="0" y="0" width="210" height="825"></rect>
                <rect class="corridor" x="0" y="0" width="840" height="180"></rect>
                <rect class="corridor" x="630" y="0" width="210" height="825"></rect>
            </g>

            <g id="floor-2" class="floor-layer" style="display: none;">
                <rect class="corridor" x="0" y="0" width="800" height="50" />
                <rect class="corridor" x="0" y="50" width="50" height="150" />
                <rect class="corridor" x="750" y="50" width="50" height="1150" />
                <rect class="corridor" x="50" y="1150" width="700" height="50" />
                <rect class="corridor" x="100" y="100" width="600" height="50" />
                <rect class="corridor" x="350" y="150" width="50" height="1000" />

                <rect id="room-201" class="room" x="50" y="50" width="100" height="80" fill="#e0e0e0" stroke="#333" stroke-width="2"/>
                <text x="100" y="95" text-anchor="middle" dominant-baseline="middle" font-size="12" fill="#333">201</text>

                <rect id="room-205" class="room" x="200" y="50" width="100" height="80" fill="#e0e0e0" stroke="#333" stroke-width="2"/>
                <text x="250" y="95" text-anchor="middle" dominant-baseline="middle" font-size="12" fill="#33">205</text>

                <rect id="room-206" class="room" x="350" y="50" width="100" height="80" fill="#e0e0e0" stroke="#333" stroke-width="2"/>
                <text x="400" y="95" text-anchor="middle" dominant-baseline="middle" font-size="12" fill="#333">206</text>

                <rect id="toilet-fem-2" class="room" x="500" y="50" width="100" height="80" fill="#f5f5f5" stroke="#333" stroke-width="2"/>
                <text x="550" y="95" text-anchor="middle" dominant-baseline="middle" font-size="12" fill="#333">Жен. туалет</text>

                <rect id="sofas" class="room" x="50" y="200" width="200" height="100" fill="#f0f0f0" stroke="#333" stroke-width="2"/>
                <text x="150" y="250" text-anchor="middle" dominant-baseline="middle" font-size="12" fill="#333">Диваны</text>

                <rect id="room-226" class="room" x="300" y="200" width="150" height="150" fill="#e8e8e8" stroke="#333" stroke-width="2"/>
                <text x="375" y="275" text-anchor="middle" dominant-baseline="middle" font-size="12" fill="#333">226</text>
            </g>

            <g id="floor-3" class="floor-layer" style="display: none;">
                <rect class="corridor" x="0" y="0" width="800" height="50" />
                <rect class="corridor" x="0" y="50" width="50" height="1150" />
                <rect class="corridor" x="750" y="50" width="50" height="1150" />
                <rect class="corridor" x="50" y="1150" width="700" height="50" />
                <rect class="corridor" x="100" y="100" width="600" height="50" />
                <rect class="corridor" x="350" y="150" width="50" height="1000" />

                <rect id="room-301" class="room" x="50" y="50" width="100" height="80" fill="#e0e0e0" stroke="#333" stroke-width="2"/>
                <text x="100" y="95" text-anchor="middle" dominant-baseline="middle" font-size="12" fill="#333">301</text>

                <rect id="room-308" class="room" x="200" y="50" width="10" height="80" fill="#e0e0e0" stroke="#333" stroke-width="2"/>
                <text x="250" y="95" text-anchor="middle" dominant-baseline="middle" font-size="12" fill="#333">308</text>

                <rect id="room-311" class="room" x="350" y="50" width="100" height="80" fill="#e0e0e0" stroke="#333" stroke-width="2"/>
                <text x="400" y="95" text-anchor="middle" dominant-baseline="middle" font-size="12" fill="#333">311</text>

                <rect id="room-320" class="room" x="500" y="50" width="100" height="80" fill="#e0e0e0" stroke="#333" stroke-width="2"/>
                <text x="550" y="95" text-anchor="middle" dominant-baseline="middle" font-size="12" fill="#333">320</text>

                <rect id="toilet-fem-3" class="room" x="50" y="200" width="100" height="80" fill="#f5f5f5" stroke="#333" stroke-width="2"/>
                <text x="100" y="240" text-anchor="middle" dominant-baseline="middle" font-size="12" fill="#333">Жен. туалет</text>

                <rect id="toilet-male-3" class="room" x="180" y="200" width="100" height="80" fill="#f5f5f5" stroke="#333" stroke-width="2"/>
                <text x="230" y="240" text-anchor="middle" dominant-baseline="middle" font-size="12" fill="#333">Муж. туалет</text>

                <rect id="room-336" class="room" x="320" y="200" width="20" height="150" fill="#e8e8e8" stroke="#333" stroke-width="2"/>
                <text x="420" y="275" text-anchor="middle" dominant-baseline="middle" font-size="12" fill="#333">36</text>
            </g>

            <g class="stairs">
                <rect id="main-stairs" class="room" x="650" y="50" width="80" height="400" fill="#d0d0d0" stroke="#333" stroke-width="2"></rect>
                <text x="690" y="250" text-anchor="middle" dominant-baseline="middle" font-size="12" fill="#333" transform="rotate(-90 690,250)">Лестница</text>

                <rect id="secondary-stairs" class="room" x="135" y="180" width="75" height="75" fill="#d0d0d0" stroke="#333" stroke-width="2"></rect>
                <text x="172.5" y="217.5" text-anchor="middle" dominant-baseline="middle" font-size="12" fill="333">Лестница</text>
            </g>
        </svg>
    </div>

    <div class="zoom-controls">
        <button id="zoomInBtn">+</button>
        <button id="zoomOutBtn">-</button>
    </div>

    <div class="card" style="display: none">
        <div class="slider"></div>
        <div class="card-header">
            <h2></h2>
            <button id="closeCardBtn" class="close-btn">×</button>
        </div>
        <div class="img-wrap">
            <img src="" alt="Картинка объекта">
        </div>
        <div class="description"></div>
    </div>

    <div id="qr-button">
        <svg fill="#000000" viewBox="0 0 24 24" id="qr-code-scan-2" data-name="Line Color"
             xmlns="http://www.w3.org/2000/svg" class="icon line-color">
            <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
            <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
            <g id="SVGRepo_iconCarrier">
                <path id="secondary" d="M11,11H7V7h4Zm6-4H15V9h2ZM13,17h4V13H13ZM7,17H9V15H7Z"
                      style="fill: none; stroke: #3b82f6; stroke-linecap: round; stroke-linejoin: round; stroke-width: 2;"></path>
                <path id="primary" d="M8,3H4A1,1,0,0,0,3,4V8"
                      style="fill: none; stroke: #000000; stroke-linecap: round; stroke-linejoin: round; stroke-width: 2;"></path>
                <path id="primary-2" data-name="primary" d="M21,8V4a1,1,0,0,0-1-1H16"
                      style="fill: none; stroke: #000000; stroke-linecap: round; stroke-linejoin: round; stroke-width: 2;"></path>
                <path id="primary-3" data-name="primary" d="M3,16v4a1,1,0,0,0,1,1H8"
                      style="fill: none; stroke: #000000; stroke-linecap: round; stroke-linejoin: round; stroke-width: 2;"></path>
                <path id="primary-4" data-name="primary" d="M16,21h4a1,1,0,0,0,1-1V16"
                      style="fill: none; stroke: #000000; stroke-linecap: round; stroke-linejoin: round; stroke-width: 2;"></path>
            </g>
        </svg>
    </div>

    <div class="scanner-container">
        <div class="container-wrapper">
            <button class="close-btn">×</button>
            <h3>Отсканируйте qr-код у объекта, чтобы найти его на карте.</h3>
            <div id="qr-reader"></div>
            <div id="qr-error"></div>
            <button id="camera-btn" class="deactivated">Сканировать</button>
        </div>
    </div>
</div>

<script src="https://unpkg.com/html5-qrcode" type="text/javascript"></script>
<script src="{{ url_for_js }}"></script>
{#<script src="{{ url_for('static', path='/scripts/main.js') }}"></script>#}
</body>
</html>